<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Личный ассистент</title>
</head>

<body>

  <!-- выпадающий список -->
  <div class="container-fluid" style="background-color: #D4CBC8">

    <div class="row">
      <!-- Основной контент страницы  -->
      <div class="col-md-12 col-lg-12 content-container">
<!--        <form>-->
<!--          <select id="3days" name="days">-->
<!--            <option value="3day">3 дня</option>-->
<!--            <option value="month">месяц</option>-->
<!--            <option value="year">год</option>-->
<!--          </select>-->
<!--        </form>-->


        <!-- Кнопка "Создание задачи" -->
        <div class="col-md-12" style="top: 0%;">
          <p style="text-align: end;"><button onclick="showDiv()" class="fixed_button">
          <img src="././assets/image/new_task.png" alt="новая задача" style="height: 20px">
          Создание задачи
          </button> </p>
        </div>
      
        <!-- Стрелки -->
          <button style="float: left; border-style: none; background-color: transparent;">
            <img src="././assets/image/back.png" alt="назад" style="height: 20px">
          </button>
            
          <button style="float: right; border-style: none; background-color: transparent;">
            <img src="././assets/image/forward.png" alt="вперед" style="height: 20px; right: 10px;">
          </button>
        
          
          
   

        <!-- Основной контент страницы  -->
        <div class="row justify-content-center">
          <div class="col-md-4 col-lg-4 mt-md-1">
            <h2>{{ isDateClicked ? yesterdayLabel : yesterdayLabel }}</h2>
            <hr>
            <h3>Расписание</h3>
            <!-- Таблица расписание -->
            <table class="table">
              <thead>
              <tbody *ngFor="let class of data.yesterday.day_classes">
              <tr>
                <td>{{ class.start_time }}<br>{{ class.stop_time }}</td>
                <td>
                  {{ class.name }}<br>
                  <ng-container *ngIf="class.place !== '-'">
                    {{ class.place }}<br>
                  </ng-container>
                  {{ class.format }}
                </td>
              </tr>
              </tbody>
            </table>

            <hr>
            <h3>Заметка</h3>
            <p>{{ data.yesterday.text_note}}</p>
            <hr>
            <h3>Задачи</h3>
            <h4>На день</h4>
            <div *ngFor="let task of data.yesterday.fixed_tasks">
              <p><label [for]="task.id.toString()" style="margin-left: 7px;" (click)="getTaskInfo($event, task.id)"> 
                <input class="real_checkbox" type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                <span class="custom_checkbox" [id]="task.id.toString()"></span>
                {{ task.name }} 
              </label></p>
            </div>
          </div>

          <div class="col-md-4 col-lg-4 mt-md-1">
            <h2>{{ isDateClicked ? todayLabel : todayLabel }}</h2>
            <hr>
            <h3>Расписание</h3>
            <!-- Таблица расписание -->
            <table class="table">
              <thead>
              <tbody *ngFor="let class of data.today.day_classes">
              <tr>
                <td>{{ class.start_time }}<br>{{ class.stop_time }}</td>
                <td>
                  {{ class.name }}<br>
                  <ng-container *ngIf="class.place !== '-'">
                    {{ class.place }}<br>
                  </ng-container>
                  {{ class.format }}
                </td>
              </tr>
              </tbody>
            </table>

            <hr>
            <h3>Заметка</h3>
            <p>{{ data.today.text_note }}</p>
<!--            <textarea name="message" id="message" rows="5" class="form-control md-textarea" type="text" style="color: #595959;"></textarea>-->
            <hr>
            <h3>Задачи</h3>
            <h4>На день</h4>
            <div *ngFor="let task of data.today.fixed_tasks">
              <p><label [for]="task.id.toString()" style="margin-left: 7px;" (click)="getTaskInfo($event, task.id)"> 
                <input class="real_checkbox" type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                <span class="custom_checkbox" [id]="task.id.toString()"></span>
                {{ task.name }} 
              </label></p>
            </div>
          </div>

          <div class="col-md-4 col-lg-4 mt-md-1">
            <h2>{{ isDateClicked ? tomorrowLabel: tomorrowLabel }}</h2>
            <hr style="border-style: solid; border-width: 1px; border-color: #000000">
            <h3>Расписание</h3>
            <!-- Таблица расписание -->
            <table class="table">
              <thead>
              <tbody *ngFor="let class of data.tomorrow.day_classes">
              <tr>
                <td>{{ class.start_time }}<br>{{ class.stop_time }}</td>
                <td>
                  {{ class.name }}<br>
                  <ng-container *ngIf="class.place !== '-'">
                    {{ class.place }}<br>
                  </ng-container>
                  {{ class.format }}
                </td>
              </tr>
              </tbody>
            </table>
              <hr>
            <h3>Заметка</h3>
            <p>{{ data.tomorrow.text_note }}</p>
            <hr>
            <h3>Задачи</h3>
            <h4>На день</h4>
            <div *ngFor="let task of data.tomorrow.fixed_tasks">
              <p><label [for]="task.id.toString()" style="margin-left: 7px;" (click)="getTaskInfo($event, task.id)"> 
                <input class="real_checkbox" type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                <span class="custom_checkbox" [id]="task.id.toString()"></span>
                {{ task.name }} 
              </label></p>
            </div>
          </div>

          <div class="col-md-12 col-lg-12 mt-md-3 mb-md-3">
            <div class="row justify-content-center">
              <div class="col-md-4 col-lg-4 mt-md-1">
                <br>
                <h4>Просрочено</h4>
                
            <div *ngFor="let task of data.late_tasks">
              <p><label [for]="task.id.toString()" style="margin-left: 7px;" (click)="getTaskInfo($event, task.id)"> 
                <input class="real_checkbox" type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                <span class="custom_checkbox" [id]="task.id.toString()"></span>
                {{ task.name }} 
            </label></p>
                <!-- <div *ngFor="let task of data.late_tasks">
                  <input type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                  <label [for]="task.id.toString()">{{ task.name }}</label><br>
                -->
                </div>
                </div>
                <div class="col-md-4 col-lg-4 mt-md-1">
                  <br>
                  <h4>Скоро дедлайн</h4>

                  <div *ngFor="let task of data.soon_tasks">
                    <p><label [for]="task.id.toString()" style="margin-left: 7px;" (click)="getTaskInfo($event, task.id)"> 
                      <input class="real_checkbox" type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                      <span class="custom_checkbox" [id]="task.id.toString()"></span>
                      {{ task.name }} 
                  </label></p>
                      <!-- <div *ngFor="let task of data.late_tasks">
                        <input type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                        <label [for]="task.id.toString()">{{ task.name }}</label><br>
                      -->
                      </div>

                  <!-- <div *ngFor="let task of data.soon_tasks"> -->
                    <!-- <p><label [for]="task.id.toString()" style="margin-left: 7px;">  -->
                      <!-- <input class="real_checkbox" type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id"> -->
                      <!-- <span class="custom_checkbox" [id]="task.id.toString()"></span> -->
                      <!-- {{ task.name }}  -->
                    <!-- </label></p> -->
                  <!-- </div>  -->
                      <!-- <div *ngFor="let task of data.late_tasks">
                        <input type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                        <label [for]="task.id.toString()">{{ task.name }}</label><br>
                      -->

            
                </div>
                <div class="col-md-4 col-lg-4 mt-md-1">
                  <br>
                  <h4>Беcсрочно</h4>
                  <div *ngFor="let task of data.free_tasks">
                    <p><label [for]="task.id.toString()" style="margin-left: 7px;" (click)="getTaskInfo($event, task.id)"> 
                      <input class="real_checkbox" type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                      <span class="custom_checkbox" [id]="task.id.toString()"></span>
                      {{ task.name }} 
                    </label></p>
                  </div>

                  <!--
                  <div *ngFor="let task of data.free_tasks">
                    <input type="checkbox" [id]="task.id.toString()" [name]="task.name" [value]="task.id">
                    <label [for]="task.id.toString()">{{ task.name }}</label><br>
                  </div>
                -->
                </div>
                </div>


          </div>
          
        </div>
      </div>
    </div>
  </div>

  <!-- Кнопка новой задачи  -->
    <div id="div1" [ngStyle]="{'display': isDiv1Visible ? 'block' : 'none'}" style="display: none; width: 100%; height: 100%; position: absolute; top: 0; left: 0;">
    <div class="container">
      <p><input [(ngModel)]="taskName" type="text" name="userName" placeholder="Введите название задачи" style="width: 100%" /></p>
      <div class="row justify-content-center">

        <div class="col-md-6 col-lg-6">
          <p>
            <img src="././assets/image/category.png" alt="категория для задачи" style="height: 30px">
            <select [(ngModel)]="taskCategory" id="category-for-task" name="category" style="width: 80%; background-color: #f0f0f0">
              <option *ngFor="let category of categories" [value]="category.id">{{category.title}}</option>
            </select>
          </p>
          <p><img src="././assets/image/timeForTask.png" alt="время" style="height: 30px">
            ОТ <input [(ngModel)]="start" type="datetime-local" id="date_from" style="width: 70%; background-color: #f0f0f0"> </p>

        </div>
        <div class="col-md-6 col-lg-6">
          <p> <img src="././assets/image/score.png" alt="оценка" style="height: 30px; margin-right: 10px">
            <input [(ngModel)]="taskEstimate" style="width: 80%" type="number" step="1" name="userName" id="mark_task" placeholder="Оценка задачи"/></p>
          <p>ДО <input [(ngModel)]="stop" type="datetime-local" id="date_to" style="width: 82%; background-color: #f0f0f0"></p>
        </div>

        <div class="col-md-12 col-lg-12">
          <p>
            <img src="././assets/image/plans.png" alt="планы" style="height: 30px; margin-right: 10px">
            <select [(ngModel)]="belongsPlan" id="task-in-plan" name="task-plan" style="width: 90%; background-color: #f0f0f0">
              <option value="choose">Нет плана</option>
              <option *ngFor="let plan of plans" [value]="plan.id">{{ plan.name }}</option>
            </select>
          </p>
        </div>

      </div>

      <p>
        <input type="checkbox" id="chkTest" />
        <label for="chkTest" style="margin-left: 5px;">Повторяется</label>
      </p>

      <div id="pnlTest" class="Iseewhencheck">

        <p> Повторяется <input type="text" name="userName" style="width: 15%; margin: 0 3px 0 3px; justify-content: center;" placeholder="кол-во"/>
          раз в
          <select id="repeat" name="repeat" style="background-color: #f0f0f0; width: 40%;">
            <option value="1"> неделю</option>
            <option value="2"> месяц </option>
            <option value="3"> год </option>
          </select>
        </p>
      <div class="row justify-content-start">
        <div class="col-md-1 col-lg-1">
          <button class="clickable" id="monday"> ПН </button>
        </div>
        <div class="col-md-1 col-lg-1">
          <button class="clickable" id="tuesday"> ВТ </button>
        </div>
        <div class="col-md-1 col-lg-1">
          <button class="clickable" id="wednesday"> СР </button>
        </div>
        <div class="col-md-1 col-lg-1">
          <button class="clickable" id="thursday"> ЧТ </button>
        </div>
        <div class="col-md-1 col-lg-1">
          <button class="clickable" id="friday"> ПТ </button>
        </div>
        <div class="col-md-1 col-lg-1">
          <button class="clickable" id="saturday"> СБ </button>
        </div>
        <div class="col-md-1 col-lg-1">
          <button class="clickable" id="sunday"> ВС </button>
        </div>

      </div>
        <p>Заканчивается</p>
        <div class="param-when-end-task">

            <div style="float: left; width: auto;">
              <p><input type="radio" id="never-end-task" name="drone" value="never-end-task" checked />
              <label for="never-end-task">Никогда</label> </p>
            </div>

            <div style="float: left; width: 30%; margin-left: 15px">
              <p><input type="radio" id="data-when-end-task" name="drone" value="data-when-end-task" />
                <label for="data-when-end-task"><input type="datetime-local" id="date_end-task" style="width: 100%; background-color: #f0f0f0"></label> </p>
            </div>

            <div style="float: left; width: auto">
              <p><input type="radio" id="how-repeat-task" name="drone" value="how-repeat-task" />
              <label for="how-repeat-task">После
                <input style="width: 20%" type="text" name="userName" id="count-repeat-task" placeholder="кол-во" />
                раз</label> </p>
            </div>
        </div>
      </div>

      <br>
      <textarea [(ngModel)]="taskDescription" name="message" id="mess" rows="5" class="form-control md-textarea"
                type="text" style="color: #595959; height: 130px" placeholder="Подробное описание"></textarea>
      <div class="row justify-content-center">
        <div class="col-md-6 col-lg-6">
          <p style="text-align: center"><button (click)="saveTask()" onclick="hideDiv()" id="save-button" class="save">Сохранить</button><p>
        </div>
        <div class="col-md-6 col-lg-6">
          <p style="text-align: center"><button (click)="deleteTask()" onclick="hideDiv()" id="close-button" class="close">Удалить</button><p>
        </div>
    </div>
  </div>

  </div>
</body>

<script src="bootstrap-5.3.0/dist/js/func.js"></script>
</html>
